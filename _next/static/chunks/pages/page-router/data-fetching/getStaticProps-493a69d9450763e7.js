(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{9583:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/page-router/data-fetching/getStaticProps",function(){return r(1344)}])},9923:function(e,s,r){"use strict";r.d(s,{Z:function(){return h}});var n=r(5893);r(7294);let t="Next.js 공식 문서 스터디를 위한 페이지입니다.",o="/nextjs-docs-study";var l=r(1163),i=r(5675),c=r.n(i);let a={logo:(0,n.jsx)(function(){return(0,n.jsx)(c(),{src:"".concat(o,"/logo.png"),alt:"Reading notes homepage",width:30,height:30})},{}),project:{link:"https://github.com/fe-book-study-kr/nextjs-docs-study"},docsRepositoryBase:"https://github.com/fe-book-study-kr/nextjs-docs-study/blob/main",footer:{text:"Made by Dahoon bok"},head:function(){let e="Next.js 공식문서 스터디";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("meta",{name:"msapplication-TileColor",content:"#fff"}),(0,n.jsx)("meta",{httpEquiv:"Content-Language",content:"en"}),(0,n.jsx)("meta",{name:"description",content:t}),(0,n.jsx)("meta",{property:"og:title",content:e}),(0,n.jsx)("meta",{property:"og:description",content:t}),(0,n.jsx)("meta",{name:"apple-mobile-web-app-title",content:e}),(0,n.jsx)("link",{rel:"icon",type:"image/x-icon",href:"".concat(o,"/favicon.ico")})]})},feedback:{content:()=>(0,n.jsx)(n.Fragment,{children:"Question? Give me feedback →"}),labels:"feedback"},useNextSeoProps:function(){let{route:e}=(0,l.useRouter)(),s={description:t};return"/"!==e?s.titleTemplate="%s – Reading notes":s.titleTemplate="%s",s},i18n:[]};var h=a},1344:function(e,s,r){"use strict";r.r(s);var n=r(5893),t=r(2673),o=r(4090),l=r(9923);r(9966);var i=r(1151);r(5675);let c={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,i.ah)(),e.components);return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)},pageOpts:{filePath:"pages/page-router/data-fetching/getStaticProps.md",route:"/page-router/data-fetching/getStaticProps",headings:[{depth:2,value:"getStaticProps",id:"getstaticprops"},{depth:3,value:"When should I use getStaticProps?",id:"when-should-i-use-getstaticprops"},{depth:3,value:"When does getStaticProps run",id:"when-does-getstaticprops-run"},{depth:3,value:"Write server-side code directly",id:"write-server-side-code-directly"},{depth:3,value:"Statically generates both HTML and JSON",id:"statically-generates-both-html-and-json"},{depth:3,value:"Runs on every request in development",id:"runs-on-every-request-in-development"}],pageMap:[{kind:"Meta",data:{index:"introduction","getting-started":"Getting Started","page-router":"Page Router","app-router":"App Router"}},{kind:"Folder",name:"getting-started",route:"/getting-started",children:[{kind:"Meta",data:{"react-essentials":"React Essentials"}},{kind:"MdxPage",name:"react-essentials",route:"/getting-started/react-essentials"}]},{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"page-router",route:"/page-router",children:[{kind:"Meta",data:{routing:"Routing","data-fetching":"Data Fetching"}},{kind:"Folder",name:"data-fetching",route:"/page-router/data-fetching",children:[{kind:"Meta",data:{getStaticProps:"getStaticProps",getStaticPaths:"getStaticPaths"}},{kind:"MdxPage",name:"getStaticPaths",route:"/page-router/data-fetching/getStaticPaths"},{kind:"MdxPage",name:"getStaticProps",route:"/page-router/data-fetching/getStaticProps"}]},{kind:"Folder",name:"routing",route:"/page-router/routing",children:[{kind:"Meta",data:{"defining-routes":"Defining Routes"}},{kind:"MdxPage",name:"defining-routes",route:"/page-router/routing/defining-routes"}]}]}],flexsearch:{codeblocks:!0},title:"Getstaticprops"},pageNextRoute:"/page-router/data-fetching/getStaticProps",nextraLayout:o.ZP,themeConfig:l.Z};function a(e){let s=Object.assign({h2:"h2",ul:"ul",li:"li",code:"code",pre:"pre",span:"span",h3:"h3",p:"p",a:"a"},(0,i.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h2,{id:"getstaticprops",children:"getStaticProps"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"Page"}),"에서 ",(0,n.jsx)(s.code,{children:"getStaticProps"})," 함수를 expor하면 Next.js는 빌드 시점에 ",(0,n.jsx)(s.code,{children:"getStaticProps가"})," 반환한 프로퍼티를 사용하여 이 페이지를 pre-render합니다."]}),"\n"]}),"\n",(0,n.jsx)(s.pre,{"data-language":"tsx","data-theme":"default",children:(0,n.jsxs)(s.code,{"data-language":"tsx","data-theme":"default",children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { InferGetStaticPropsType"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" GetStaticProps } "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"next"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Repo"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  name"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  stargazers_count"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"getStaticProps"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"GetStaticProps"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<{"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  repo"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Repo"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}> "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" () "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"res"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"fetch"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"https://api.github.com/repos/vercel/next.js"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"repo"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"res"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".json"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { props"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { repo } };"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"default"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Page"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"({"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  repo"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"InferGetStaticPropsType"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"typeof"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" getStaticProps>) {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"repo"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".stargazers_count;"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,n.jsx)(s.h3,{id:"when-should-i-use-getstaticprops",children:"When should I use getStaticProps?"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["페이지 렌더링에 필요한 데이터는 사용자 요청에 앞서 ",(0,n.jsx)(s.code,{children:"빌드 시점"}),"에 사용할 수 있음"]}),"\n",(0,n.jsx)(s.li,{children:"데이터가 헤드리스 CMS에서 제공되는 경우 사용"}),"\n",(0,n.jsxs)(s.li,{children:["페이지가 pre-render되어야 하며(SEO를 위해) 매우 빨라야 할 경우. ",(0,n.jsx)(s.code,{children:"getStaticProps"}),"는 HTML 및 JSON 파일을 생성하며, 이 두 파일은 성능을 위해 CDN에서 캐시할 수 있음."]}),"\n",(0,n.jsx)(s.li,{children:"데이터는 공개적으로 캐시될 수 있음(사용자별이 아님). 특정 상황에서는 미들웨어를 사용하여 경로를 다시 작성함으로써 이 조건을 우회할 수 있음."}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"when-does-getstaticprops-run",children:"When does getStaticProps run"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"getStaticProps"}),"는 항상 서버에서 실행되며 클라이언트에서는 실행되지 않습니다. ",(0,n.jsx)(s.a,{href:"https://next-code-elimination.vercel.app/",children:"next code elimination"}),"를 사용하면 클라이언트 측 번들에서 제거된 ",(0,n.jsx)(s.code,{children:"getStaticProps"})," 내부에 작성된 코드의 유효성을 검사할 수 있습니다."]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"next build"})," 시 항상 실행"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"fallback: true"})," 사용 시 백그라운드에서 실행"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"fallback: blocking"})," 사용 시 초기 렌더링 전에 실행"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"revalidate"})," 사용 시 백그라운드에서 실행"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"revalidate()"}),"을 사용할 때 백그라운드에서 온디맨드 방식으로 실행"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"./getStaticPaths#%EC%B0%B8%EA%B3%A0-fallback",children:"참고 fallback"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"ISR"}),"과 함께 사용하면 오래된 페이지가 재검증되고 브라우저에 새 페이지가 제공되는 동안 ",(0,n.jsx)(s.code,{children:"getStaticProps"}),"가 백그라운드에서 실행됩니다."]}),"\n",(0,n.jsxs)(s.p,{children:["정적 HTML을 생성하기 때문에 ",(0,n.jsx)(s.code,{children:"getStaticProps"}),"는 들어오는 요청(예: 쿼리 매개변수 또는 HTTP 헤더)에 액세스할 수 없습니다. 페이지에 대한 요청에 액세스해야 하는 경우 ",(0,n.jsx)(s.code,{children:"getStaticProps"}),"와 함께 미들웨어를 사용하는 것을 고려하세요."]}),"\n",(0,n.jsx)(s.h3,{id:"write-server-side-code-directly",children:"Write server-side code directly"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"getStaticProps"}),"는 서버 측에서만 실행되므로 클라이언트 측에서는 절대 실행되지 않습니다. 브라우저용 JS 번들에도 포함되지 않으므로 브라우저로 전송되지 않고 직접 데이터베이스 쿼리를 작성할 수 있습니다."]}),"\n",(0,n.jsx)(s.pre,{"data-language":"tsx","data-theme":"default",filename:"lib/load-posts.js",children:(0,n.jsxs)(s.code,{"data-language":"tsx","data-theme":"default",children:[(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// The following function is shared"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// with getStaticProps and API routes"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// from a `lib/` directory"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"loadPosts"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"() {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Call an external API endpoint to get posts"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"res"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"fetch"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"https://.../posts/"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"data"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"res"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".json"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" data;"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,n.jsx)(s.pre,{"data-language":"tsx","data-theme":"default",filename:"pages/blog.js",children:(0,n.jsxs)(s.code,{"data-language":"tsx","data-theme":"default",children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { loadPosts } "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"../lib/load-posts"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:" "}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// This function runs only on the server side"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"getStaticProps"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"() {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Instead of fetching your `/api` route you can call the same"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// function directly in `getStaticProps`"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"posts"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"loadPosts"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:" "}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Props returned will be passed to the page component"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { props"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { posts } };"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,n.jsx)(s.h3,{id:"statically-generates-both-html-and-json",children:"Statically generates both HTML and JSON"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["빌드 시점에 ",(0,n.jsx)(s.code,{children:"getStaticProps"}),"가 포함된 페이지가 pre-render되면 페이지 HTML과 실행 결과를 담은 JSON 생성"]}),"\n",(0,n.jsxs)(s.li,{children:["해당 페이지로 이동하면 클라이언트에서는 ",(0,n.jsx)(s.code,{children:"getStaticProps"}),"를 호출하지 않고 생성된 JSON 파일이 props로 사용됨"]}),"\n",(0,n.jsxs)(s.li,{children:["ISR을 사용하면 백그라운드에서 ",(0,n.jsx)(s.code,{children:"getStaticProps"}),"가 실행되면서 JSON 파일 재생성"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"runs-on-every-request-in-development",children:"Runs on every request in development"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"next dev"})," 실행에서는 요청마다 ",(0,n.jsx)(s.code,{children:"getStaticProps"}),"가 실행됨"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["사실상 SSR로 동작하기 때문에 SSG의 정확한 테스트를 위해선 ",(0,n.jsx)(s.code,{children:"next build"})," 후 ",(0,n.jsx)(s.code,{children:"next start"}),"로 실행해야 함"]}),"\n"]})]})}s.default=(0,t.j)(c)}},function(e){e.O(0,[774,239,888,179],function(){return e(e.s=9583)}),_N_E=e.O()}]);